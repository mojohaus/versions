<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M19 from src/site/markdown/usage.md.vm at 2024-11-13
 | Rendered using Apache Maven Fluido Skin 2.0.0-M10
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0-M19" />
    <meta name="author" content="Stephen Connolly" />
    <meta name="date" content="2008-09-02" />
    <title>Usage â€“ Versions Maven Plugin</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.0-M10.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.0-M10.min.js"></script>
    <!-- Matomo -->
    <script>
        var _paq = window._paq = window._paq || [];
        _paq.push(['disableCookies']);
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);

        (function() {
            var u="https://analytics.apache.org/";
            _paq.push(['setTrackerUrl', u+'/matomo.php']);
            _paq.push(['setSiteId', '18']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.async=true; g.src=u+'/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
    <!-- End Matomo Code -->
    <style>.github-fork-ribbon:before { background-color: gray; }</style>
  </head>
  <body>
    <a class="github-fork-ribbon right-top" href="https://github.com/mojohaus/versions" data-ribbon="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="../../"><img class="imageLink" src="../../images/mojo_logo.png" alt="MojoHaus" /></a></h1></div></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li><a href="../../">MojoHaus</a><span class="divider">/</span></li>
      <li><a href="../">Versions</a><span class="divider">/</span></li>
      <li><a href="index.html">Versions Maven Plugin</a><span class="divider">/</span></li>
    <li class="active">Usage <a href="https://github.com/mojohaus/versions/tree/master/versions-maven-plugin/src/site/markdown/usage.md.vm"><img src="./images/accessories-text-editor.png" alt="Edit" /></a></li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2024-11-13</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 2.18.0</li>
        <li class="pull-right"><a href="https://maven.apache.org/" class="externalLink">Maven</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="index.html">Introduction</a></li>
    <li><a href="plugin-info.html">Goals</a></li>
    <li class="active"><a>Usage</a></li>
    <li><a href="faq.html">FAQ</a></li>
    <li><a href="version-rules.html">Version number rules</a></li>
    <li><a href="../versions-api/index.html">Writing an extensions</a></li>
   <li class="nav-header">Examples</li>
    <li><a href="examples/advancing-dependency-versions.html">Advancing dependency versions</a></li>
    <li><a href="examples/compare-dependencies.html">Comparing remote dependencies</a></li>
    <li><a href="examples/display-dependency-updates.html">Checking for new dependency updates</a></li>
    <li><a href="examples/display-plugin-updates.html">Checking for new plugin updates</a></li>
    <li><a href="examples/display-property-updates.html">Checking for new property-linked updates</a></li>
    <li><a href="examples/update-parent.html">Updating the Parent version</a></li>
    <li><a href="examples/update-properties.html">Updating a version specified in a property</a></li>
    <li><a href="examples/update-child-modules.html">Fixing a multi-module build</a></li>
    <li><a href="examples/resolve-ranges.html">Resolve version ranges</a></li>
    <li><a href="examples/lock-snapshots.html">Locking snapshot dependencies</a></li>
    <li><a href="examples/unlock-snapshots.html">Unlocking snapshot dependencies</a></li>
    <li><a href="examples/use-releases.html">Replacing -SNAPSHOT versions with their corresponding releases</a></li>
    <li><a href="examples/set.html">Changing the project version</a></li>
    <li><a href="examples/setaggregator.html">Changing aggregator project version</a></li>
    <li><a href="examples/resolve-changes.html">Recording Changes</a></li>
   <li class="nav-header">Reference</li>
    <li><a href="../versions-model/rule.html">Version number comparison rule-sets</a></li>
    <li><a href="../versions-model/xsd/index.html">XML schemas</a></li>
   <li class="nav-header">Parent Project</li>
    <li><a href="../index.html">Versions</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<!---
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at
  https://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<section><a id="Usage"></a>
<h1>Usage</h1>
<p>The plugin offers goals for updating the versions of artifacts referenced in
a Maven <code>pom.xml</code> file.</p><section><a id="Basic_Usage"></a>
<h2>Basic Usage</h2>
<p>Maven 2.0, 2.1, 2.2 and 3.0 do not currently support re-reading modifications of the <code>pom.xml</code> within one
invocation of Maven.</p>
<p>The following goals:</p>
<ul>

<li><a href="./set-mojo.html">versions:set</a></li>
<li><a href="./lock-snapshots-mojo.html">versions:lock-snapshots</a></li>
<li><a href="./resolve-ranges-mojo.html">versions:resolve-ranges</a></li>
<li><a href="./unlock-snapshots-mojo.html">versions:unlock-snapshots</a></li>
<li><a href="./update-child-modules-mojo.html">versions:update-child-modules</a></li>
<li><a href="./update-parent-mojo.html">versions:update-parent</a></li>
<li><a href="./update-properties-mojo.html">versions:update-properties</a></li>
<li><a href="./set-property-mojo.html">versions:set-property</a></li>
<li><a href="./use-latest-releases-mojo.html">versions:use-latest-releases</a></li>
<li><a href="./use-latest-snapshots-mojo.html">versions:use-latest-snapshots</a></li>
<li><a href="./use-latest-versions-mojo.html">versions:use-latest-versions</a></li>
<li><a href="./use-next-releases-mojo.html">versions:use-next-releases</a></li>
<li><a href="./use-next-snapshots-mojo.html">versions:use-next-snapshots</a></li>
<li><a href="./use-next-versions-mojo.html">versions:use-next-versions</a></li>
<li><a href="./use-releases-mojo.html">versions:use-releases</a></li>
</ul>
<p>modify the <code>pom.xml</code> file, you need to run these goals separately from any other goals or life-cycle phases.</p>
<p>Note: The first time any of the goals that modify the <code>pom.xml</code> file run, they will create a local backup copy
<code>pom.xml.versionsBackup</code>. Subsequent modifications will leave this backup unchanged.  The
<a href="./commit-mojo.html">versions:commit</a> goal will remove the backup copy, while the
<a href="./revert-mojo.html">versions:revert</a> goal will restore the backup copy. It is best practice
to use a Source Code Management system and not rely on the <code>pom.xml.versionsBackup</code> files created by the
versions-maven-plugin. The <a href="./commit-mojo.html">versions:commit</a> and <a href="./revert-mojo.html">versions:revert</a> goals are
only a &#x201c;Poor Man's SCM&#x201d;.</p></section><section><a id="Goals_that_modify_the_pom.xml"></a>
<h2>Goals that modify the <code>pom.xml</code></h2>
<p>Executing any of the following goals may modify your <code>pom.xml</code> file.</p><section><a id="Reverting_modifications_to_the_pom.xml_files_.28Note.3A_modifies_pom.xml_files.29"></a>
<h3>Reverting modifications to the <code>pom.xml</code> files (Note: modifies <code>pom.xml</code> files)</h3>
<p>To restore your <code>pom.xml</code> files to their initial state, before you started modifying it with the
versions-maven-plugin, invoke the <code>revert</code> goal. Note that it is best practice
to use a Source Code Management system and not rely on the <code>pom.xml.versionsBackup</code> files created by the
versions-maven-plugin.</p>

<pre class="prettyprint"><code class="language-sh">mvn versions:revert
</code></pre></section><section><a id="Accepting_modifications_to_the_pom.xml_files"></a>
<h3>Accepting modifications to the <code>pom.xml</code> files</h3>
<p>To accept the modifications made to your <code>pom.xml</code> files by the versions-maven-plugin invoke the <code>commit</code>
goal. This will have the effect of removing any <code>pom.xml.versionsBackup</code> files. Note that it is best practice
to use a Source Code Management system and not rely on the <code>pom.xml.versionsBackup</code> files created by the
versions-maven-plugin.</p>

<pre class="prettyprint"><code class="language-sh">mvn versions:commit
</code></pre></section><section><a id="Updating_the_parent_version_.28Note.3A_modifies_pom.xml_files.29"></a>
<h3>Updating the parent version (Note: modifies <code>pom.xml</code> files)</h3>
<p>To update the parent version of your POM to the latest available, just invoke the <code>update-parent</code> goal.</p>

<pre class="prettyprint"><code class="language-sh">mvn versions:update-parent
</code></pre>
<p><a href="./examples/update-parent.html">A more detailed example of the <code>update-parent</code> goal</a>.</p></section><section><a id="Fixing_a_multi-module_build_.28Note.3A_modifies_pom.xml_files.29"></a>
<h3>Fixing a multi-module build (Note: modifies <code>pom.xml</code> files)</h3>
<p>If you have a multi-module build where the aggregator pom (i.e. the one with packaging of <code>pom</code> and the
<code>modules</code> section) is also the parent referenced by its child modules, and the aggregator version does not
match the version specified in the parent section of the child modules, Maven will not let you build the project.
To fix all the child modules, use the <a href="./update-child-modules-mojo.html">versions:update-child-modules</a> goal and
invoke Maven in non-recursive mode.</p>

<pre class="prettyprint"><code>mvn -N versions:update-child-modules
</code></pre>
<p><a href="./examples/update-child-modules.html">A more detailed example of the <code>update-child-modules</code> goal</a>.</p></section><section><a id="Updating_versions_specified_by_properties_.28Note.3A_modifies_pom.xml_files.29"></a>
<h3>Updating versions specified by properties (Note: modifies <code>pom.xml</code> files)</h3>
<p>This goal helps when you use properties to define versions.  Please see the
<a href="./examples/update-properties.html"><code>update-properties</code> example</a>.</p></section><section><a id="Updating_versions_of_dependencies_.28Note.3A_modifies_pom.xml_files.29"></a>
<h3>Updating versions of dependencies (Note: modifies <code>pom.xml</code> files)</h3>
<p>There are a set of goals to help with advancing dependency versions: <code>use-latest-releases</code>,
<code>use-latest-snapshots</code>, <code>use-latest-versions</code>, <code>use-next-releases</code>, <code>use-next-snapshots</code>, and
<code>use-next-versions</code>.</p>
<p>Please see the <a href="./examples/advancing-dependency-versions.html">advancing dependency versions example</a>.</p></section><section><a id="Resolving_version_ranges_.28Note.3A_modifies_pom.xml_files.29"></a>
<h3>Resolving version ranges (Note: modifies <code>pom.xml</code> files)</h3>
<p>If a pom contains version ranges in one or more dependencies, it can be useful
to collapse those ranges to the specific versions used during the build, just invoke the <code>resolve-ranges</code> goal.</p>

<pre class="prettyprint"><code class="language-sh">mvn versions:resolve-ranges
</code></pre>
<p>More examples of the <a href="./examples/resolve-ranges.html"><code>resolve-ranges</code></a> goal.</p></section><section><a id="Locking_and_unlocking_-SNAPSHOT_versions_.28Note.3A_modifies_pom.xml_files.29"></a>
<h3>Locking and unlocking -SNAPSHOT versions (Note: modifies <code>pom.xml</code> files)</h3>
<p>If your pom contains a lot of -SNAPSHOT dependencies and those -SNAPSHOT dependencies are a moving target, it
can sometimes be helpful to temporarily replace the -SNAPSHOT with a locked -YYYYMMDD.HHMMSS-NNN snapshot.
In the long term, you will need to return to the -SNAPSHOT dependencies and then replace them with their
release version, but if you need a short term semi-reproducible build, locked -SNAPSHOTs can sometimes be a
useful hack.</p>
<p>To replace -SNAPSHOT dependencies with their current locked snapshot equivalents, just invoke the <code>lock-snapshots</code>
goal.</p>

<pre class="prettyprint"><code class="language-sh">mvn versions:lock-snapshots
</code></pre>
<p>More examples of the <a href="./examples/lock-snapshots.html"><code>lock-snapshots</code></a> goal.</p>
<p>To return to regular -SNAPSHOT dependencies, i.e. replace 1.9.6-20090103.152537-3 with 1.9.6-SNAPSHOT, just invoke
the <code>unlock-snapshots</code> goal.</p>

<pre class="prettyprint"><code class="language-sh">mvn versions:unlock-snapshots
</code></pre>
<p>More examples of the <a href="./examples/unlock-snapshots.html"><code>unlock-snapshots</code></a> goal.</p></section><section><a id="Picking_up_releases_of_-SNAPSHOT_dependencies_.28Note.3A_modifies_pom.xml_files.29"></a>
<h3>Picking up releases of -SNAPSHOT dependencies (Note: modifies <code>pom.xml</code> files)</h3>
<p>It is better to depend on a released version of a dependency, rather than the -SNAPSHOT of that version.  For
example, it is better to depend on version 1.3.4 rather than 1.3.4-SNAPSHOT.  Of course if you are waiting for
1.3.4 to be released, you will have had to add 1.3.4-SNAPSHOT as a dependency.</p>
<p>The <code>use-releases</code> goal will look at your project dependencies and see if any -SNAPSHOT versions have been
released, replacing the -SNAPSHOT version with the corresponding release version.</p>
<p>To replace -SNAPSHOT dependencies with their corresponding release version, just invoke the <code>use-releases</code>
goal.</p>

<pre class="prettyprint"><code class="language-sh">mvn versions:use-releases
</code></pre>
<p>More examples of the <a href="./examples/use-releases.html"><code>lock-snapshots</code></a> goal.</p></section><section><a id="Setting_the_project_version"></a>
<h3>Setting the project version</h3>
<p>To set the project version to a specific version, just invoke the <code>set</code> goal.</p>

<pre class="prettyprint"><code class="language-sh">mvn versions:set -DnewVersion=1.0.1-SNAPSHOT
</code></pre>
<p>More examples of the <a href="./examples/set.html"><code>set</code></a> goal.</p></section></section><section><a id="Goals_that_do_not_modify_the_pom.xml"></a>
<h2>Goals that do not modify the <code>pom.xml</code></h2>
<p>Executing any of the following goals will not modify your <code>pom.xml</code> file.</p><section><a id="Checking_for_new_versions_of_plugins"></a>
<h3>Checking for new versions of plugins</h3>
<p>To get information about newer versions of plugins that you are using in your build, just invoke the
<code>display-plugin-updates</code> goal.</p>

<pre class="prettyprint"><code class="language-sh">mvn versions:display-plugin-updates
</code></pre>
<p><a href="./examples/display-plugin-updates.html">A more detailed example of the <code>display-plugin-updates</code> goal</a>.</p></section><section><a id="Checking_for_new_versions_of_dependencies"></a>
<h3>Checking for new versions of dependencies</h3>
<p>To get information about newer versions of dependencies that you are using in your build, just invoke the
<code>display-dependency-updates</code> goal.</p>

<pre class="prettyprint"><code class="language-sh">mvn versions:display-dependency-updates
</code></pre>
<p><a href="./examples/display-dependency-updates.html">A more detailed example of the <code>display-dependency-updates</code> goal</a>.</p></section><section><a id="Checking_for_new_versions_of_specified_by_properties"></a>
<h3>Checking for new versions of specified by properties</h3>
<p>To get information about newer versions of dependencies that you are using in your build, just invoke the
<code>display-property-updates</code> goal.</p>

<pre class="prettyprint"><code class="language-sh">mvn versions:display-property-updates
</code></pre>
<p><a href="./examples/display-property-updates.html">A more detailed example of the <code>display-property-updates</code> goal</a>.</p></section></section><section><a id="Report_Usage"></a>
<h2>Report Usage</h2>
<p>The plugin also offers some reporting views; these make no changes to your project,
but makes it easy for reviewers to survey available updates without even having
to launch Maven themselves. Updates are further categorized as major, minor, and
incremental, to make it easier to decide which updates to take.</p>
<p>To add these reports to your project's site, add the following snippet to your POM:</p>

<pre class="prettyprint"><code class="language-xml">&lt;reporting&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
      &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;
      &lt;version&gt;2.18.0&lt;/version&gt;
      &lt;reportSets&gt;
        &lt;reportSet&gt;
          &lt;reports&gt;
            &lt;report&gt;dependency-updates-report&lt;/report&gt;
            &lt;report&gt;plugin-updates-report&lt;/report&gt;
            &lt;report&gt;property-updates-report&lt;/report&gt;
          &lt;/reports&gt;
        &lt;/reportSet&gt;
      &lt;/reportSets&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/reporting&gt;
</code></pre></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Â©      2008â€“2024
<a href="https://www.mojohaus.org">MojoHaus</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>